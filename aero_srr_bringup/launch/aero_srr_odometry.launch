<!-- Bring up anything needed for calculating odometry here -->
<launch>
  <!-- Input Arguments -->
  <arg name="imu_topic"    default="kvh/imu" />
  <arg name="odom_topic"   default="odom" />
  <arg name="output_topic" default="aero/odom_combined" />
  
  <!-- Bring Up Robot Pose Ekf -->
  <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="aero_base_pose_ekf">
    <param name="publish_tf"   value="true"/>
    <param name="output_frame"   value="odom"/>
    <param name="freq"           value="100.0"/>
    <param name="sensor_timeout" value=".1"/>  
    <param name="odom_used"      value="true"/>
    <param name="imu_used"       value="true"/>
    <param name="vo_used"        value="false"/>

    <remap from="odom"     to="$(arg odom_topic)" />
    <remap from="imu_data" to="$(arg imu_topic)" />
  </node>
  
  <!-- bring up SLAM -->
  <include file="$(find aero_slam)/launch/gmapping.launch">
  
  </include>
  <!-- publish a transform from world to odom 
  <node pkg="tf" type="static_transform_publisher" name="world_odom_broadcaster" args="0 0 0 0 0 0 /world /odom 20" />
-->
  
</launch>
